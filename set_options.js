// ã“ã®é–¢æ•°ã®å†…å®¹ã‚’å¤‰ãˆã‚‹ã ã‘ã§è‡ªåˆ†ã®ã‚²ãƒ¼ãƒ ã«ä½¿ãˆã¾ã™ï¼
// è‰²ã€…ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¤‰ãˆã¦ãã ã•ã„
const set_options = () => {
  // ãƒ–ãƒ­ãƒƒã‚¯ãªã©ã‚’è¡¨ã™ã‚¿ã‚¤ãƒ«ã¯32ãƒ”ã‚¯ã‚»ãƒ«ã¨ã„ã†ã‚µã‚¤ã‚ºã®rectã§è¡¨ã—ã¦ã„ã¾ã™
  const tile_size = 32;

  // tilesã«è‰²ã®æ–‡å­—åˆ—ã‹çµµæ–‡å­—ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™
  // tilesé…åˆ—ã¨ã‚¿ã‚¤ãƒ«ä¸€ã¤ã‚’æãé–¢æ•°tile_draw_functionã‚’æ–°ã—ãä½œã‚‹ã“ã¨ã§
  // æ–°ã—ã„ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’ä½œã‚‹ã®ã‚‚å¯èƒ½

  // è‰²ã¯å®Ÿéš›ã®ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®è‰²ã‚’ä½¿ã„ã¾ã—ãŸ: http://www.firebrandx.com/nespalette.html
  // å®šæ•°æ‰±ã„
  const sample_color_tiles = [
    "#c3f6f6", // 0 ç©ºè‰²
    "#754702", // 1 èŒ¶è‰²
    "#b3af0d", // 2 é»„è‰²
    "#027645", // 3 ç·‘
    "#983700", // 4 èµ¤
    "#071380", // 5 é’
    "#7bc213", // 6 é»„ç·‘
  ];
  const sample_emoji_tiles = [
    " ",
    "ğŸ“¦",
    "ğŸ",
    "ğŸ“—",
    "ğŸ‘¨â€ğŸ”§",
    "ğŸ’¦",
    "ğŸ¢",
  ];

  // ä¸€ã¤ä¸€ã¤ã®ã‚¿ã‚¤ãƒ«ã‚’æãé–¢æ•°ã€‚
  // å››è§’ãƒãƒ¼ã‚¸ãƒ§ãƒ³
  const drawSquare = (i, j, tile='#000000', size=32) => {
    fill(tile);
    rect(j * size, i * size, size, size);
  };
  // çµµæ–‡å­—ãƒãƒ¼ã‚¸ãƒ§ãƒ³
  const drawEmoji = (i, j, tile='â›°', size=32) => {
    textSize(size);
    text(tile, j * size, i * size, size, size);
  };

  // ã“ã®ä¸‹ã®`tile_engine`ã¯ä¸€ã¤ã ã‘å®šç¾©ã§ãã¾ã™
  // å››è§’ã‹çµµæ–‡å­—ã‚’ãˆã‚‰ã‚“ã§ã€ä»–ã¯ã‚³ãƒ¡ãƒ³ãƒˆã«ã—ã¦ãã ã•ã„

  // ã‚¿ã‚¤ãƒ«ã«å˜è‰²ã®å››è§’ã‚’ä½¿ã†å ´åˆ
  // const tile_engine = {
  //   tiles: sample_color_tiles,
  //   tile_draw_function: drawSquare
  // };
  // ã‚¿ã‚¤ãƒ«ã«çµµæ–‡å­—ã‚’ä½¿ã†å ´åˆ
  const tile_engine = {
    tiles: sample_emoji_tiles,
    tile_draw_function: drawEmoji
  };

  // å„ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆé¢ï¼‰ã®ãƒãƒƒãƒ—ã€‚æ•°å­—ã¯å‡ºã—ãŸã„è‰²ã® tiles ã§ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  // å®šæ•°æ‰±ã„
  const stages = [
    [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 1, 2, 1, 2, 1, 0, 0, 3, 3, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0],
      [0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 3, 3, 0],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    ],
    [
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0],
      [0, 0, 0, 3, 3, 0, 0, 1, 1, 0, 0, 2, 3, 3, 0, 0],
      [0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0],
      [0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 3, 3, 0, 0],
      [0, 0, 0, 3, 3, 0, 6, 0, 0, 0, 0, 0, 3, 3, 0, 0],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    ],
  ];
  // æœ€åˆã«å‡ºã¦ãã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  const starting_stage = 0;

  // ã“ã®ä¸Šã®è¨­å®šã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆæœŸåŒ–ï¼
  screen = new ScreenScroller(tile_engine.tile_draw_function, starting_stage, tile_size, tile_engine.tiles, stages);
};
